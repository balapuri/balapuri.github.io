<html ng-app="myApp">  
    <head lang="en">
        <meta charset="utf-8">
        <title>Grid Example</title>  
        <link rel="stylesheet" type="text/css" href="http://angular-ui.github.com/ng-grid/css/ng-grid.css" />
		<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
		<script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"></script>
        <script src="http://angular-ui.github.com/ng-grid/lib/ng-grid.debug.js"></script>
    </head>
	<style>
	/*style.css*/
		.gridStyle {
			border: 1px solid rgb(212,212,212);
			width: 75%; 
			height: 500px;
		}
	</style>
    <body ng-controller="MyCtrl">
        <div class="gridStyle" ng-grid="gridOptions">
        </div>
    </body>
	<script>
	// main.js
		var app = angular.module('myApp', ['ngGrid']);
		app.controller('MyCtrl', function($scope, $http) {
		
			$scope.filterOptions = {
				filterText: "",
				useExternalFilter: true
			};
			$scope.totalServerItems = 0;
			$scope.pagingOptions = {
				pageSizes: [5, 10, 20],
				pageSize: 5,
				currentPage: 1
			};  
			$scope.setPagingData = function(data, page, pageSize){	
				var pagedData = data.slice((page - 1) * pageSize, page * pageSize);
				$scope.myData = pagedData;
				$scope.totalServerItems = data.length;
				if (!$scope.$$phase) {
					$scope.$apply();
				}
			};
			$scope.getPagedDataAsync = function (pageSize, page, searchText) {
				setTimeout(function () {
					var data;
					if (searchText) {
						var ft = searchText.toLowerCase();
						$http.get('largeLoad.json').success(function (largeLoad) {					
							data = largeLoad.filter(function(item) {
								return JSON.stringify(item).toLowerCase().indexOf(ft) != -1;
							});
							$scope.setPagingData(data,page,pageSize);
						});            
					} else {
						$http.get('largeLoad.json').success(function (largeLoad) {
							$scope.setPagingData(largeLoad,page,pageSize);
						});
					}
				}, 100);
			};
			
			$scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage);
			
			$scope.$watch('pagingOptions', function (newVal, oldVal) {
				if (newVal !== oldVal && newVal.currentPage !== oldVal.currentPage) {
				  $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);
				}
			}, true);
			$scope.$watch('filterOptions', function (newVal, oldVal) {
				if (newVal !== oldVal) {
				  $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);
				}
			}, true);
			
			$scope.gridOptions = { 
				data: 'myData',
				columnDefs: [{field:'name', displayName:'Name'},
							{field:'allowance', displayName:'Allowance'},
							{field:'paid', displayName:'Paid'}],
				showGroupPanel: true, //group by column html5
				jqueryUIDraggable: true, //group by column jquery
				enablePaging: true,
				showFooter: true,
				totalServerItems:'totalServerItems',
				pagingOptions: $scope.pagingOptions,
				filterOptions: $scope.filterOptions,
				enableColumnResize:true`,
				showColumnMenu: true,
				showFilter: true
    };
});
	</script>
</html>